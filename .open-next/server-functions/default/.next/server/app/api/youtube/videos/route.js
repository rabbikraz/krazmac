(()=>{var e={};e.id=964,e.ids=[964],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},7341:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>d,serverHooks:()=>w,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>l,dynamic:()=>u});var a=r(2706),i=r(8203),o=r(5994),n=r(9187),p=r(6418);let u="force-dynamic";async function l(e){try{let t=e.url?new URL(e.url):null,r=t?.searchParams||new URLSearchParams,s=r.get("pageToken")||"",a=parseInt(r.get("maxResults")||"50"),i=await fetch(`https://www.googleapis.com/youtube/v3/channels?part=contentDetails&id=${p.g}&key=${p.n}`);if(!i.ok)throw Error("Failed to fetch channel data");let o=await i.json(),u=o.items[0]?.contentDetails?.relatedPlaylists?.uploads;if(!u)throw Error("Could not find uploads playlist");let l=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&playlistId=${u}&maxResults=${a}&key=${p.n}`;s&&(l+=`&pageToken=${s}`);let d=await fetch(l);if(!d.ok)throw Error("Failed to fetch videos");let c=await d.json(),h=c.items.map(e=>e.contentDetails.videoId).join(","),w=await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics&id=${h}&key=${p.n}`);if(!w.ok)throw Error("Failed to fetch video details");let m=(await w.json()).items.filter(e=>{let t=e.contentDetails.duration,r=e.snippet.title.toLowerCase(),s=t.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/),a=parseInt(s[1]||"0"),i=parseInt(s[2]||"0"),o=parseInt(s[3]||"0");return 3600*a+60*i+o>=60&&!r.includes("#shorts")&&!r.includes("shorts")}).map(e=>{let t=e.contentDetails.duration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/),r=parseInt(t[1]||"0"),s=parseInt(t[2]||"0"),a=parseInt(t[3]||"0"),i="";return i=r>0?`${r}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${s}:${a.toString().padStart(2,"0")}`,{id:e.id,title:e.snippet.title,description:e.snippet.description,thumbnail:e.snippet.thumbnails?.high?.url||e.snippet.thumbnails?.medium?.url||e.snippet.thumbnails?.default?.url,publishedAt:e.snippet.publishedAt,duration:i,viewCount:parseInt(e.statistics?.viewCount||"0"),videoUrl:`https://www.youtube.com/watch?v=${e.id}`}}).sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime());return n.NextResponse.json({videos:m,nextPageToken:c.nextPageToken,totalResults:m.length})}catch(e){return console.error("Error fetching YouTube videos:",e),n.NextResponse.json({error:e.message||"Failed to fetch videos"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/youtube/videos/route",pathname:"/api/youtube/videos",filename:"route",bundlePath:"app/api/youtube/videos/route"},resolvedPagePath:"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\api\\youtube\\videos\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:h,serverHooks:w}=d;function m(){return(0,o.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:h})}},6487:()=>{},8335:()=>{},6418:(e,t,r)=>{"use strict";r.d(t,{g:()=>s,n:()=>a});let s="UCMrMvXraTLhAtpb0JZQOKhQ",a=process.env.YOUTUBE_API_KEY||"AIzaSyDufIjgKWTjSY6e6YnLfuhHVC5dAwtJPLg"}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452],()=>r(7341));module.exports=s})();