(()=>{var e={};e.id=947,e.ids=[947],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},7086:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var t=s(260),a=s(8203),i=s(5155),n=s.n(i),o=s(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["admin",{children:["sources",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4625)),"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\admin\\sources\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9611)),"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\admin\\sources\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/sources/page",pathname:"/admin/sources",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},479:(e,r,s)=>{Promise.resolve().then(s.bind(s,4625))},7431:(e,r,s)=>{Promise.resolve().then(s.bind(s,7942))},2783:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},3031:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,8903,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},5884:()=>{},2732:()=>{},7942:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>b});var t=s(5512),a=s(8009),i=s(1298),n=s(8741),o=s(3258);let l=(0,o.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),d=(0,o.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var c=s(2163);let m=(0,o.A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),h=(0,o.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x=(0,o.A)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);var p=s(9656);function u(){let[e,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),o=e=>{r(r=>r.filter(r=>r.id!==e))},u=async(e,s)=>{r(r=>r.map(r=>r.id===e?{...r,isSearching:!0}:r));try{let t=await fetch("https://www.sefaria.org/api/search-wrapper",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s,type:"text",field:"naive_lemmatizer",size:1})}),a=await t.json();if(a.hits?.hits?.length>0){let s=a.hits.hits[0]._source.ref,t=await fetch(`https://www.sefaria.org/api/texts/${encodeURIComponent(s)}?context=0`),i=await t.json();r(r=>r.map(r=>r.id===e?{...r,sefariaRef:s,sefariaText:Array.isArray(i.he)?i.he.join(" "):i.he,isSearching:!1}:r))}else r(r=>r.map(r=>r.id===e?{...r,isSearching:!1}:r)),alert("No results found in Sefaria")}catch(s){console.error("Sefaria search error:",s),r(r=>r.map(r=>r.id===e?{...r,isSearching:!1}:r)),alert("Error searching Sefaria")}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,t.jsx)(n.A,{className:"w-5 h-5 text-primary"}),"Add Source"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),placeholder:"Paste or type a source reference here (e.g., 'Bereishis 1:1' or '×¨×ž×‘×´× ×”×œ×›×•×ª ×ª×©×•×‘×” ×¤×¨×§ ×')...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-primary focus:border-primary text-lg",dir:"auto"}),(0,t.jsxs)("button",{onClick:()=>{if(!s.trim())return;let e={id:crypto.randomUUID(),text:s.trim()};r(r=>[...r,e]),i("")},disabled:!s.trim(),className:"w-full md:w-auto px-6 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(n.A,{className:"w-5 h-5"}),"Add Source"]})]})]}),e.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(l,{className:"w-5 h-5 text-primary"}),"Sources (",e.length,")"]}),(0,t.jsx)("button",{onClick:()=>{let r=e.map((e,r)=>{let s=`${r+1}. ${e.text}`;return e.sefariaRef&&(s+=`
   ðŸ“š ${e.sefariaRef}`),e.sefariaText&&(s+=`
   ${e.sefariaText}`),s}).join("\n\n");navigator.clipboard.writeText(r),alert("Sources copied to clipboard!")},className:"px-4 py-2 text-sm font-medium text-primary border border-primary rounded-lg hover:bg-primary/5 transition-colors",children:"Copy All Formatted"})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.map((e,r)=>(0,t.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/10 text-primary rounded-full flex items-center justify-center font-bold text-sm",children:r+1}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-1 block",children:"Source Text"}),(0,t.jsx)("p",{className:"text-lg text-gray-900 font-serif leading-relaxed",dir:"auto",children:e.text})]}),e.sefariaRef&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(d,{className:"w-4 h-4 text-green-600"}),(0,t.jsxs)("a",{href:`https://www.sefaria.org/${encodeURIComponent(e.sefariaRef)}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-blue-700 hover:underline flex items-center gap-1",children:[e.sefariaRef,(0,t.jsx)(c.A,{className:"w-3 h-3"})]})]}),e.sefariaText&&(0,t.jsx)("p",{className:"text-gray-800 font-serif text-right leading-relaxed",dir:"rtl",children:e.sefariaText})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("button",{onClick:()=>u(e.id,e.text),disabled:e.isSearching,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#212f4d] rounded-lg hover:bg-[#212f4d]/90 transition-colors disabled:opacity-50",children:[e.isSearching?(0,t.jsx)(m,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(h,{className:"w-4 h-4"}),e.isSearching?"Searching...":"Find in Sefaria"]}),(0,t.jsxs)("a",{href:`https://hebrewbooks.org/search?c=1&q=${encodeURIComponent(e.text.substring(0,50))}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"Search HebrewBooks"]}),(0,t.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 bg-white border border-red-200 rounded-lg hover:bg-red-50 transition-colors ml-auto",children:[(0,t.jsx)(p.A,{className:"w-4 h-4"}),"Remove"]})]})]})]})},e.id))})]}),0===e.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(l,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No sources added yet"}),(0,t.jsx)("p",{className:"text-sm",children:"Add a source above to get started"})]})]})}var f=s(8531),y=s.n(f);let g=(0,o.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function b(){let[e,r]=(0,a.useState)(!1),[s,n]=(0,a.useState)(!0);return s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(y(),{href:"/admin",className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:(0,t.jsx)(g,{className:"w-5 h-5"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-primary",children:"Source Manager"})]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsx)(u,{})})]}):(0,t.jsx)(i.A,{onSuccess:()=>r(!0)})}},1298:(e,r,s)=>{"use strict";s.d(r,{A:()=>o});var t=s(5512),a=s(8009),i=s(8531),n=s.n(i);function o({onSuccess:e}){let[r,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(!1),h=async s=>{s.preventDefault(),d(""),m(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})}),t=await s.json();if(!s.ok){let e=t.error||"Login failed";d(e),console.error("Login error:",e);return}e()}catch(e){d("An error occurred. Please try again.")}finally{m(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-lg",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-primary",children:"Admin Login"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[l&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:l}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Logging in...":"Login"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)(n(),{href:"/",className:"text-sm text-primary hover:underline",children:"â† Back to Home"})})]})})}},3258:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(8009),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,r)=>{let s=(0,t.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,...m},h)=>(0,t.createElement)("svg",{ref:h,...a,width:n,height:n,stroke:s,strokeWidth:l?24*Number(o)/Number(n):o,className:["lucide",`lucide-${i(e)}`,d].join(" "),...m},[...r.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},2163:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(3258).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},8741:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(3258).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9656:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(3258).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4625:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\alk77\\\\Downloads\\\\krazywaz-master\\\\krazywaz-master\\\\Downloads\\\\krazywaz\\\\krazzzzz\\\\app\\\\admin\\\\sources\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\admin\\sources\\page.tsx","default")},9611:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d,metadata:()=>l});var t=s(2740),a=s(1455),i=s.n(a),n=s(5951),o=s.n(n);s(2704);let l={title:"Rabbi Kraz's Shiurim",description:"Timeless Torah wisdom, delivered with passion."};function d({children:e}){return(0,t.jsxs)("html",{lang:"en",children:[(0,t.jsx)("head",{children:(0,t.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"})}),(0,t.jsx)("body",{className:`${i().variable} ${o().variable} font-sans antialiased`,children:e})]})}},2704:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,59,531],()=>s(7086));module.exports=t})();