(()=>{var e={};e.id=698,e.ids=[698],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},808:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(260),s=t(8203),i=t(5155),n=t.n(i),o=t(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5128)),"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9611)),"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\admin\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7983:(e,r,t)=>{Promise.resolve().then(t.bind(t,5128))},7815:(e,r,t)=>{Promise.resolve().then(t.bind(t,160))},2783:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,3219,23)),Promise.resolve().then(t.t.bind(t,4863,23)),Promise.resolve().then(t.t.bind(t,5155,23)),Promise.resolve().then(t.t.bind(t,802,23)),Promise.resolve().then(t.t.bind(t,9350,23)),Promise.resolve().then(t.t.bind(t,8530,23)),Promise.resolve().then(t.t.bind(t,8921,23))},3031:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6959,23)),Promise.resolve().then(t.t.bind(t,3875,23)),Promise.resolve().then(t.t.bind(t,8903,23)),Promise.resolve().then(t.t.bind(t,7174,23)),Promise.resolve().then(t.t.bind(t,4178,23)),Promise.resolve().then(t.t.bind(t,7190,23)),Promise.resolve().then(t.t.bind(t,1365,23))},5884:()=>{},2732:()=>{},160:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var a=t(5512),s=t(8009),i=t(1298),n=t(9334),o=t(8531),l=t.n(o),d=t(3258);let c=(0,d.A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),u=(0,d.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),m=(0,d.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var p=t(8741);let x=(0,d.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var h=t(9656);function g({shiur:e,onSuccess:r,onCancel:t}){let[i,n]=(0,s.useState)({guid:e?.guid||"",slug:e?.slug||"",title:e?.title||"",description:e?.description||"",blurb:e?.blurb||"",audioUrl:e?.audioUrl||"",sourceDoc:e?.sourceDoc||"",pubDate:e?.pubDate?new Date(e.pubDate).toISOString().split("T")[0]:"",duration:e?.duration||"",link:e?.link||"",thumbnail:e?.thumbnail||"",youtube:e?.platformLinks?.youtube||"",youtubeMusic:e?.platformLinks?.youtubeMusic||"",spotify:e?.platformLinks?.spotify||"",apple:e?.platformLinks?.apple||"",amazon:e?.platformLinks?.amazon||"",pocket:e?.platformLinks?.pocket||"",twentyFourSix:e?.platformLinks?.twentyFourSix||"",castbox:e?.platformLinks?.castbox||""}),[o,l]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),u=async t=>{t.preventDefault(),l(!0),c("");try{let t={guid:i.guid||void 0,slug:i.slug||void 0,title:i.title,description:i.description||void 0,blurb:i.blurb||void 0,audioUrl:i.audioUrl,sourceDoc:i.sourceDoc||void 0,pubDate:i.pubDate||new Date().toISOString(),duration:i.duration||void 0,link:i.link||void 0,thumbnail:i.thumbnail||void 0,platformLinks:{youtube:i.youtube||void 0,youtubeMusic:i.youtubeMusic||void 0,spotify:i.spotify||void 0,apple:i.apple||void 0,amazon:i.amazon||void 0,pocket:i.pocket||void 0,twentyFourSix:i.twentyFourSix||void 0,castbox:i.castbox||void 0}},a=e?.id?`/api/shiurim/${e.id}`:"/api/shiurim",s=e?.id?"PUT":"POST",n=await fetch(a,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n.json();if(!n.ok){c(o.error||"Error saving shiur");return}r()}catch(e){c("An error occurred. Please try again.")}finally{l(!1)}};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-primary",children:e?"Edit Shiur":"Add New Shiur"}),d&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:d}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GUID *"}),(0,a.jsx)("input",{type:"text",value:i.guid,onChange:e=>n({...i,guid:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,a.jsx)("input",{type:"text",value:i.title,onChange:e=>n({...i,title:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom URL Slug"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-gray-500 text-sm mr-2",children:"/"}),(0,a.jsx)("input",{type:"text",value:i.slug,onChange:e=>n({...i,slug:e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"e.g., dreams",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Optional. Creates a short memorable URL like /dreams"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Audio URL *"}),(0,a.jsx)("input",{type:"url",value:i.audioUrl,onChange:e=>n({...i,audioUrl:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publication Date *"}),(0,a.jsx)("input",{type:"date",value:i.pubDate,onChange:e=>n({...i,pubDate:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,a.jsx)("input",{type:"text",value:i.duration,onChange:e=>n({...i,duration:e.target.value}),placeholder:"01:23:45",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link"}),(0,a.jsx)("input",{type:"url",value:i.link,onChange:e=>n({...i,link:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Doc"}),(0,a.jsx)("input",{type:"url",value:i.sourceDoc,onChange:e=>n({...i,sourceDoc:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL (for WhatsApp/Social sharing)"}),(0,a.jsx)("input",{type:"url",value:i.thumbnail,onChange:e=>n({...i,thumbnail:e.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Image shown when sharing on WhatsApp, Twitter, etc."})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (HTML)"}),(0,a.jsx)("textarea",{value:i.description,onChange:e=>n({...i,description:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blurb (Plain Text)"}),(0,a.jsx)("textarea",{value:i.blurb,onChange:e=>n({...i,blurb:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Platform Links"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube"}),(0,a.jsx)("input",{type:"url",value:i.youtube,onChange:e=>n({...i,youtube:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube Music"}),(0,a.jsx)("input",{type:"url",value:i.youtubeMusic,onChange:e=>n({...i,youtubeMusic:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Spotify"}),(0,a.jsx)("input",{type:"url",value:i.spotify,onChange:e=>n({...i,spotify:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apple Podcasts"}),(0,a.jsx)("input",{type:"url",value:i.apple,onChange:e=>n({...i,apple:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amazon Music"}),(0,a.jsx)("input",{type:"url",value:i.amazon,onChange:e=>n({...i,amazon:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pocket Casts"}),(0,a.jsx)("input",{type:"url",value:i.pocket,onChange:e=>n({...i,pocket:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"24Six"}),(0,a.jsx)("input",{type:"url",value:i.twentyFourSix,onChange:e=>n({...i,twentyFourSix:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Castbox"}),(0,a.jsx)("input",{type:"url",value:i.castbox,onChange:e=>n({...i,castbox:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-4 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":e?"Update":"Create"})]})]})]})}function y(){let[e,r]=(0,s.useState)([]),[t,i]=(0,s.useState)(!0),[o,d]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),j=(0,n.useRouter)(),w=async()=>{try{let e=await fetch("/api/shiurim"),t=await e.json();r(t)}catch(e){console.error("Error fetching shiurim:",e)}finally{i(!1)}},k=async()=>{d(!0);try{let e=await fetch("/api/rss/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),r=await e.json();e.ok?(alert(`Synced ${r.synced} shiurim. ${r.errors} errors.`),w()):alert("Error syncing RSS feed: "+r.error)}catch(e){alert("Error syncing RSS feed")}finally{d(!1)}},N=async e=>{if(confirm("Are you sure you want to delete this shiur?"))try{(await fetch(`/api/shiurim/${e}`,{method:"DELETE"})).ok?w():alert("Error deleting shiur")}catch(e){alert("Error deleting shiur")}},z=async()=>{try{await fetch("/api/auth/login",{method:"DELETE"}),j.push("/admin"),j.refresh()}catch(e){console.error("Logout error:",e)}};return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-primary",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(l(),{href:"/admin/sources",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[(0,a.jsx)(c,{className:"w-4 h-4"}),"Source Manager"]}),(0,a.jsxs)("button",{onClick:k,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:[(0,a.jsx)(u,{className:`w-4 h-4 ${o?"animate-spin":""}`}),o?"Syncing...":"Sync RSS"]}),(0,a.jsxs)("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),"Logout"]})]})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["All Shiurim (",e.length,")"]}),(0,a.jsxs)("button",{onClick:()=>{b(null),v(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Add New Shiur"]})]}),f&&(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(g,{shiur:y,onSuccess:()=>{v(!1),b(null),w()},onCancel:()=>{v(!1),b(null)}})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 max-w-md truncate",children:e.title})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.pubDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.duration||"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>{b(e),v(!0)},className:"text-primary hover:text-primary/80",children:(0,a.jsx)(x,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>N(e.id),className:"text-red-600 hover:text-red-800",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]})]})}function b(){let[e,r]=(0,s.useState)(!1),[t,n]=(0,s.useState)(!0);return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):e?(0,a.jsx)(y,{}):(0,a.jsx)(i.A,{onSuccess:()=>r(!0)})}},1298:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(5512),s=t(8009),i=t(8531),n=t.n(i);function o({onSuccess:e}){let[r,t]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),m=async t=>{t.preventDefault(),d(""),u(!0);try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})}),a=await t.json();if(!t.ok){let e=a.error||"Login failed";d(e),console.error("Login error:",e);return}e()}catch(e){d("An error occurred. Please try again.")}finally{u(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-lg",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-primary",children:"Admin Login"}),(0,a.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[l&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:l}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Logging in...":"Login"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(n(),{href:"/",className:"text-sm text-primary hover:underline",children:"â† Back to Home"})})]})})}},3258:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(8009),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,r)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,...u},m)=>(0,a.createElement)("svg",{ref:m,...s,width:n,height:n,stroke:t,strokeWidth:l?24*Number(o)/Number(n):o,className:["lucide",`lucide-${i(e)}`,d].join(" "),...u},[...r.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},8741:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(3258).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9656:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(3258).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9334:(e,r,t)=>{"use strict";var a=t(8686);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},5128:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\alk77\\\\Downloads\\\\krazywaz-master\\\\krazywaz-master\\\\Downloads\\\\krazywaz\\\\krazzzzz\\\\app\\\\admin\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\admin\\page.tsx","default")},9611:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>l});var a=t(2740),s=t(1455),i=t.n(s),n=t(5951),o=t.n(n);t(2704);let l={title:"Rabbi Kraz's Shiurim",description:"Timeless Torah wisdom, delivered with passion."};function d({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[(0,a.jsx)("head",{children:(0,a.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"})}),(0,a.jsx)("body",{className:`${i().variable} ${o().variable} font-sans antialiased`,children:e})]})}},2704:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,59,531],()=>t(808));module.exports=a})();