"use strict";(()=>{var e={};e.id=635,e.ids=[635],e.modules={846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{e.exports=require("path")},814:(e,r,a)=>{a.r(r),a.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=a(260),t=a(8203),i=a(5155),l=a.n(i),n=a(7292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(r,o);let d=["",{children:["archive",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4669)),"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\archive\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9611)),"C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\alk77\\Downloads\\krazywaz-master\\krazywaz-master\\Downloads\\krazywaz\\krazzzzz\\app\\archive\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/archive/page",pathname:"/archive",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4669:(e,r,a)=>{a.r(r),a.d(r,{default:()=>b,dynamic:()=>g,revalidate:()=>f});var s=a(2740),t=a(9607),i=a.n(t),l=a(5946),n=a(1993),o=a(7956),d=a(2855),c=a(2503),m=a(4709),x=a(2545),h=a(6980),p=a(2489),u=a(7579);let g="force-dynamic",f=60;async function y(e=1){try{let r=await (0,x.x8)();if(!r)return console.error("D1 database not available"),{shiurim:[],total:0,totalPages:0};let a=(0,x.Lf)(r),s=await a.select().from(h.shiurim).orderBy((0,p.i)(h.shiurim.pubDate)).all(),t=s.length,i=(e-1)*18,l=s.slice(i,i+18);return{shiurim:await Promise.all(l.map(async e=>{let r=await a.select().from(h.platformLinks).where((0,u.eq)(h.platformLinks.shiurId,e.id)).get();return{...e,platformLinks:r||null}})),total:t,totalPages:Math.ceil(t/18)}}catch(e){return console.error("Error fetching shiurim:",e),{shiurim:[],total:0,totalPages:0}}}async function b({searchParams:e}){let{page:r}=await e,a=parseInt(r||"1",10),{shiurim:t,total:x,totalPages:h}=await y(a);return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50/50",children:[(0,s.jsx)(n.A,{}),(0,s.jsxs)("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"font-serif text-3xl font-semibold text-primary mb-2",children:"All Shiurim"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Browse all ",x," shiurim"]})]}),0===t.length?(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 md:p-12 text-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"No shiurim available."})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(e=>(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-100 overflow-hidden flex flex-col h-full group",children:(0,s.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"flex items-start justify-between gap-4 mb-3",children:(0,s.jsx)("h3",{className:"font-serif text-xl font-semibold text-primary line-clamp-2 group-hover:text-secondary transition-colors",children:(0,s.jsx)(i(),{href:`/shiur/${e.id}`,children:e.title})})}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(d.A,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:(0,l.Yq)(e.pubDate)})]}),e.duration&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.A,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:(0,l.a3)(e.duration)})]})]}),e.blurb&&(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3 mb-4 flex-1",children:e.blurb}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 mt-auto border-t border-gray-50",children:[(0,s.jsx)(o.default,{shiur:e}),(0,s.jsxs)(i(),{className:"flex items-center gap-1 text-sm text-secondary hover:text-primary font-medium",href:`/shiur/${e.id}`,children:["Details ",(0,s.jsx)(m.A,{className:"w-4 h-4"})]})]})]})},e.id))}),h>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[(0,s.jsx)(i(),{href:`/archive?page=${Math.max(1,a-1)}`,className:`px-4 py-2 rounded-lg border transition-colors ${1===a?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-primary hover:bg-gray-50 border-gray-200"}`,children:"Previous"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,h)},(e,r)=>{let t;return t=h<=5?r+1:a<=3?r+1:a>=h-2?h-4+r:a-2+r,(0,s.jsx)(i(),{href:`/archive?page=${t}`,className:`px-4 py-2 rounded-lg border transition-colors ${t===a?"bg-primary text-white border-primary":"bg-white text-primary hover:bg-gray-50 border-gray-200"}`,children:t},t)})}),(0,s.jsx)(i(),{href:`/archive?page=${Math.min(h,a+1)}`,className:`px-4 py-2 rounded-lg border transition-colors ${a===h?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-primary hover:bg-gray-50 border-gray-200"}`,children:"Next"})]})]})]})]})}}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[638,59,920,531,724],()=>a(814));module.exports=s})();